import{r as i,j as e}from"./index-DX2mtma_.js";import{A as u}from"./config-PJqXRuVJ.js";import{s as m}from"./settingsService-Tte2DU1T.js";const N=({currentUser:h,onLogout:b})=>{const[a,d]=i.useState({telegramBotToken:"",telegramChatId:"",telegramTopicId:"",geminiApiKey:"",brianApiKey:"",defaultImageModel:"nano2"}),[x,o]=i.useState(!1);i.useEffect(()=>{const l=m.getSettings();d(s=>({...s,...l}))},[]);const c=l=>{const{name:s,value:t}=l.target;d(n=>({...n,[s]:t})),o(!1)},p=()=>{m.saveSettings(a),o(!0),setTimeout(()=>o(!1),3e3),alert("Settings have been saved successfully.")},r=({label:l,name:s,value:t,placeholder:n,type:g="text"})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("label",{htmlFor:s,className:"block text-md font-bold text-blue-400",children:l}),g==="password"&&t&&t.length>=5&&e.jsxs("span",{className:"text-xs text-green-400 font-mono bg-green-900/30 px-2 py-1 rounded border border-green-700/50 flex items-center gap-1",title:"Last 5 characters",children:[e.jsx("i",{className:"fas fa-shield-alt text-[10px] opacity-70"}),"...",t.slice(-5)]})]}),e.jsx("input",{id:s,name:s,type:g,value:t,onChange:c,placeholder:n,className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200 focus:ring-2 focus:ring-blue-500 transition"})]});return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("header",{className:"py-4 px-8 bg-gray-800 shadow-md border-b border-gray-700 shrink-0 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-blue-400",children:[e.jsx("i",{className:"fas fa-cog mr-3"}),"Settings"]}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Configure API keys and integrations."})]}),u.LOGIN_REQUIRED]}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 shadow-lg space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-300 border-b border-gray-600 pb-3 mb-4",children:[e.jsx("i",{className:"fab fa-telegram-plane mr-3"}),"Telegram Integration"]}),e.jsx(r,{label:"Bot Token",name:"telegramBotToken",value:a.telegramBotToken,placeholder:"Enter your Telegram bot token",type:"password"}),e.jsx(r,{label:"Chat ID",name:"telegramChatId",value:a.telegramChatId,placeholder:"Enter the target chat/group ID"}),e.jsx(r,{label:"Topic ID (Optional)",name:"telegramTopicId",value:a.telegramTopicId,placeholder:"Enter topic ID if sending to a group with topics"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Your Telegram outputs will be sent to this chat. For group chats, the ID starts with a '-'."})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 shadow-lg space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-300 border-b border-gray-600 pb-3 mb-4",children:[e.jsx("i",{className:"fas fa-key mr-3"}),"API Configuration"]}),e.jsx(r,{label:"Gemini API Key",name:"geminiApiKey",value:a.geminiApiKey,placeholder:"Enter your Gemini API key",type:"password"}),e.jsx(r,{label:"Vidtory API Key",name:"brianApiKey",value:a.brianApiKey,placeholder:"Enter your Vidtory API key",type:"password"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"defaultImageModel",className:"block text-md font-bold text-blue-400 mb-2",children:"Default Image Model"}),e.jsxs("select",{id:"defaultImageModel",name:"defaultImageModel",value:a.defaultImageModel,onChange:c,className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200 focus:ring-2 focus:ring-blue-500 transition",children:[e.jsx("option",{value:"classic",children:"Classic - Fastest and Cheapest (2 Credits per image)"}),e.jsx("option",{value:"nano1",children:"Nano 1 - Fast and Balance (3 Credits per image)"}),e.jsx("option",{value:"nano2",children:"Nano 2 - Best for Design and Text (8 Credits per image)"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Choose which model to use for image generation tasks across the app. Classic supports multi-image compositing better."})]}),e.jsxs("p",{className:"text-sm text-yellow-300 bg-yellow-900/30 p-3 rounded-lg border border-yellow-700",children:[e.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),"API keys are **required** to use any generation features in this application. Your keys are stored locally in your browser."]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:p,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-full transition-all text-lg flex items-center justify-center gap-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check-circle"})," Saved!"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save"})," Save Settings"]})})})]})})]})};export{N as default};
