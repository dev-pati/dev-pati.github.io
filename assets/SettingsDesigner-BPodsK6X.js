import{r as i,j as e}from"./index-BDGPSugR.js";import{s as x}from"./settingsService-CbIZ9NBp.js";const y=({currentUser:b,onLogout:g})=>{const[t,d]=i.useState({telegramBotToken:"",telegramChatId:"",telegramTopicId:"",geminiApiKey:"",brianApiKey:""}),[m,n]=i.useState(!1);i.useEffect(()=>{const l=x.getSettings();d(s=>({...s,...l}))},[]);const p=l=>{const{name:s,value:a}=l.target;d(o=>({...o,[s]:a})),n(!1)},h=()=>{x.saveSettings(t),n(!0),setTimeout(()=>n(!1),3e3),alert("Settings have been saved successfully.")},r=({label:l,name:s,value:a,placeholder:o,type:c="text"})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("label",{htmlFor:s,className:"block text-md font-bold text-blue-400",children:l}),c==="password"&&a&&a.length>=5&&e.jsxs("span",{className:"text-xs text-green-400 font-mono bg-green-900/30 px-2 py-1 rounded border border-green-700/50 flex items-center gap-1",title:"Last 5 characters",children:[e.jsx("i",{className:"fas fa-shield-alt text-[10px] opacity-70"}),"...",a.slice(-5)]})]}),e.jsx("input",{id:s,name:s,type:c,value:a,onChange:p,placeholder:o,className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200 focus:ring-2 focus:ring-blue-500 transition"})]});return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("header",{className:"py-4 px-8 bg-gray-800 shadow-md border-b border-gray-700 shrink-0 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-blue-400",children:[e.jsx("i",{className:"fas fa-cog mr-3"}),"Settings"]}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Configure API keys and integrations."})]}),e.jsx("button",{onClick:g,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full",children:"Logout"})]}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 shadow-lg space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-300 border-b border-gray-600 pb-3 mb-4",children:[e.jsx("i",{className:"fab fa-telegram-plane mr-3"}),"Telegram Integration"]}),e.jsx(r,{label:"Bot Token",name:"telegramBotToken",value:t.telegramBotToken,placeholder:"Enter your Telegram bot token",type:"password"}),e.jsx(r,{label:"Chat ID",name:"telegramChatId",value:t.telegramChatId,placeholder:"Enter the target chat/group ID"}),e.jsx(r,{label:"Topic ID (Optional)",name:"telegramTopicId",value:t.telegramTopicId,placeholder:"Enter topic ID if sending to a group with topics"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Your Telegram outputs will be sent to this chat. For group chats, the ID starts with a '-'."})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 shadow-lg space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-300 border-b border-gray-600 pb-3 mb-4",children:[e.jsx("i",{className:"fas fa-key mr-3"}),"API Configuration"]}),e.jsx(r,{label:"Gemini API Key",name:"geminiApiKey",value:t.geminiApiKey,placeholder:"Enter your Gemini API key",type:"password"}),e.jsx(r,{label:"Brian Video/Image API Key",name:"brianApiKey",value:t.brianApiKey,placeholder:"Enter your Brian API key",type:"password"}),e.jsxs("p",{className:"text-sm text-yellow-300 bg-yellow-900/30 p-3 rounded-lg border border-yellow-700",children:[e.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),"API keys are **required** to use any generation features in this application. Your keys are stored locally in your browser and are not sent anywhere except to the respective API providers' servers."]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:h,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-full transition-all text-lg flex items-center justify-center gap-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check-circle"})," Saved!"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save"})," Save Settings"]})})})]})})]})};export{y as default};
