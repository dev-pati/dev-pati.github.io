import{r as s,j as e}from"./index-BDGPSugR.js";import{u as E,c as ct,b as dt,r as Ie,t as ke,s as gt,O as mt,e as pt,d as ut,S as bt}from"./telegramService-Cj56laOR.js";import{I as ie}from"./ImageUpload-cWb71mSq.js";import{t as Ve,u as ht,v as ft,w as vt,x as xt,c as wt,m as Ne,I as yt}from"./lehuyducanhService-B9F-RCut.js";import{r as P,i as St,f as Ce,d as Ge}from"./media-CDZXYBSY.js";import{s as Ae}from"./settingsService-CbIZ9NBp.js";import"./streetInterviewPrompts-Dzu83YwK.js";const Te=[{value:"Kore",label:"Kore (Female)"},{value:"Puck",label:"Puck (Male)"},{value:"Charon",label:"Charon (Male)"},{value:"Fenrir",label:"Fenrir (Male)"},{value:"Zephyr",label:"Zephyr (Male)"}],jt=p=>{const{reporterImage:z,setReporterImage:u,intervieweeImage:J,setIntervieweeImage:G,topic:D,setTopic:B,pastedScript:A,setPastedScript:Q,onGenerateStoryboard:R,isGeneratingStoryboard:v,reporterVoice:$,setReporterVoice:b,intervieweeVoice:M,setIntervieweeVoice:T,videoAspectRatio:O,setVideoAspectRatio:c,interviewMode:d,setInterviewMode:L,backgroundPrompt:g,setBackgroundPrompt:V,onGenerateBackgrounds:W,isGeneratingBackgrounds:j,selectedBackground:H,globalVoiceInstruction:h,setGlobalVoiceInstruction:_,customBackgroundFile:w,setCustomBackgroundFile:q,backgroundVariationsCount:f,setBackgroundVariationsCount:X}=p,[I,K]=s.useState("custom"),[y,U]=s.useState("generate");return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 shadow-lg flex flex-col gap-6",children:[e.jsxs("div",{className:"flex mb-2 border-b-2 border-gray-700",children:[e.jsxs("button",{onClick:()=>K("custom"),className:`flex-1 text-center font-bold py-3 transition-all duration-300 flex items-center justify-center gap-2 ${I==="custom"?"text-blue-400 border-b-4 border-blue-500":"text-gray-400 hover:text-white"}`,children:[e.jsx("i",{className:"fas fa-tools"})," Custom Setup"]}),e.jsxs("button",{onClick:()=>K("quick-start"),className:`flex-1 text-center font-bold py-3 transition-all duration-300 flex items-center justify-center gap-2 ${I==="quick-start"?"text-yellow-400 border-b-4 border-yellow-500":"text-gray-400 hover:text-white"}`,children:[e.jsx("i",{className:"fas fa-bolt"})," Quick Start"]})]}),I==="custom"&&e.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in",children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-400 -mb-2",children:[e.jsx("i",{className:"fas fa-users mr-2"}),"Cast"]}),e.jsx(ie,{id:"reporter-image",label:"Reporter Image (Optional)",file:z,onFileChange:u}),e.jsx(ie,{id:"interviewee-image",label:"Interviewee Image (Optional)",file:J,onFileChange:G}),e.jsx("div",{className:"border-t-2 border-gray-700 -mx-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-400 mb-2",children:[e.jsx("i",{className:"fas fa-image mr-2"}),"Background Scene"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-md font-bold text-gray-300 mb-2",children:"Interview Mode"}),e.jsxs("div",{className:"flex gap-2 bg-gray-900 border-2 border-gray-600 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>L("two-shot"),className:`flex-1 py-2 px-4 rounded-md text-sm font-bold transition-all ${d==="two-shot"?"bg-blue-600":"bg-transparent text-gray-400 hover:bg-gray-700"}`,children:"Two-Person Shot"}),e.jsx("button",{onClick:()=>L("single-shot"),className:`flex-1 py-2 px-4 rounded-md text-sm font-bold transition-all ${d==="single-shot"?"bg-blue-600":"bg-transparent text-gray-400 hover:bg-gray-700"}`,children:"Interviewee Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"background-prompt",className:"block text-md font-bold text-gray-300 mb-2",children:"Generate with AI"}),e.jsx("input",{id:"background-prompt",type:"text",value:g,onChange:l=>V(l.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bg-count",className:"block text-md font-bold text-gray-300 mb-2",children:"Number of Variations"}),e.jsx("input",{id:"bg-count",type:"number",min:"1",max:"8",value:f,onChange:l=>X(parseInt(l.target.value,10)),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"aspect-ratio-street",className:"block text-md font-bold text-gray-300 mb-2",children:"Video Aspect Ratio"}),e.jsxs("select",{id:"aspect-ratio-street",value:O,onChange:l=>c(l.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",children:[e.jsx("option",{value:"9:16",children:"9:16 (Portrait)"}),e.jsx("option",{value:"16:9",children:"16:9 (Landscape)"})]})]}),e.jsx("button",{onClick:W,disabled:j,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-full disabled:opacity-50 flex items-center justify-center gap-2",children:j?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," Generating..."]}):"Generate Backgrounds"})]})]}),I==="quick-start"&&e.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in",children:[e.jsx("div",{className:"bg-yellow-900/30 border border-yellow-700/50 p-3 rounded-lg text-center text-yellow-200 text-sm",children:e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-bolt mr-2"}),"Upload a finalized photo of the interview scene. We'll generate different shots from it."]})}),e.jsx(ie,{id:"street-interview-custom-bg",label:"Master Shot",file:w,onFileChange:q}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"aspect-ratio-street-quick",className:"block text-md font-bold text-gray-300 mb-2",children:"Video Aspect Ratio"}),e.jsxs("select",{id:"aspect-ratio-street-quick",value:O,onChange:l=>c(l.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",children:[e.jsx("option",{value:"9:16",children:"9:16 (Portrait)"}),e.jsx("option",{value:"16:9",children:"16:9 (Landscape)"})]})]})]}),e.jsx("div",{className:"border-t-2 border-gray-700 -mx-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-400 mb-2",children:[e.jsx("i",{className:"fas fa-cog mr-2"}),"Audio & Video"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reporter-voice",className:"block text-md font-bold text-gray-300 mb-2",children:"Reporter's Voice"}),e.jsx("select",{id:"reporter-voice",value:$,onChange:l=>b(l.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",children:Te.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"interviewee-voice",className:"block text-md font-bold text-gray-300 mb-2",children:"Interviewee's Voice"}),e.jsx("select",{id:"interviewee-voice",value:M,onChange:l=>T(l.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",children:Te.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"global-voice-instruction-street",className:"block text-md font-bold text-gray-300 mb-2",children:"Global Voice Instruction (Optional)"}),e.jsx("textarea",{id:"global-voice-instruction-street",value:h,onChange:l=>_(l.target.value),placeholder:"e.g., Speak in an excited and fast-paced style.",className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",rows:2})]})]}),e.jsx("div",{className:"border-t-2 border-gray-700 -mx-6"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-400 mb-4",children:[e.jsx("i",{className:"fas fa-file-alt mr-2"}),"Scripting"]}),e.jsxs("div",{className:"flex gap-1 bg-gray-900 border-2 border-gray-600 rounded-lg p-1 mb-4",children:[e.jsxs("button",{onClick:()=>U("generate"),className:`flex-1 py-2 px-4 rounded-md text-sm font-bold ${y==="generate"?"bg-blue-600":"bg-transparent text-gray-400 hover:bg-gray-700"}`,children:[e.jsx("i",{className:"fas fa-magic mr-2"}),"From Topic"]}),e.jsxs("button",{onClick:()=>U("paste"),className:`flex-1 py-2 px-4 rounded-md text-sm font-bold ${y==="paste"?"bg-blue-600":"bg-transparent text-gray-400 hover:bg-gray-700"}`,children:[e.jsx("i",{className:"fas fa-paste mr-2"}),"From Script"]})]}),y==="generate"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"interview-topic",className:"block text-md font-bold text-gray-300 mb-2",children:"Interview Topic"}),e.jsx("textarea",{id:"interview-topic",value:D,onChange:l=>B(l.target.value),placeholder:"e.g., What are your thoughts on remote work?",className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",rows:3})]}),y==="paste"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pasted-script",className:"block text-md font-bold text-gray-300 mb-2",children:"Paste Script"}),e.jsx("textarea",{id:"pasted-script",value:A,onChange:l=>Q(l.target.value),placeholder:`Reporter: What's one thing you can't live without?
Interviewee: Definitely my morning coffee. I'm not a person until I've had my coffee.`,className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",rows:8})]})]}),e.jsx("div",{className:"border-t-2 border-gray-700 -mx-6 pt-6",children:e.jsx("button",{onClick:R,disabled:v||!D&&!A,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-full disabled:opacity-50 transition-all text-lg flex items-center justify-center gap-2",title:!D&&!A?"Please provide a topic or script":"Generate Storyboard",children:v?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-wand-magic-sparkles"})," Generate Storyboard"]})})})]})},Rt=({currentUser:p,onLogout:z})=>{const[u,J]=s.useState("two-shot"),[G,D]=s.useState("A busy city street with a shallow depth of field"),[B,A]=s.useState([]),[Q,R]=s.useState(!1),[v,$]=s.useState(),[b,M]=s.useState(""),[T,O]=s.useState(""),[c,d]=s.useState([]),[L,g]=s.useState(null),[V,W]=s.useState("Puck"),[j,H]=s.useState("Kore"),[h,_]=s.useState("9:16"),[w,q]=s.useState(""),[f,X]=s.useState(null),[I,K]=s.useState(4),[y,U]=s.useState(""),[N,l]=s.useState(""),[Y,le]=s.useState("input"),[ee,te]=s.useState(""),[ce,de]=s.useState(!1),[x,ge]=s.useState(null),[m,me]=s.useState(null),[It,kt]=s.useState({}),[pe,ue]=s.useState(null),[Fe,Vt]=s.useState(!1),[Pe,be]=s.useState(!1),[De,he]=s.useState(!1),[Be,Nt]=s.useState(!1),[Ue,fe]=s.useState(!1),[Ee,Ct]=s.useState(!1),[Re,Gt]=s.useState(!1),[ve,xe]=s.useState(!1),[ae,we]=s.useState(!1),[$e,ye]=s.useState(!1),[Me,Se]=s.useState(!1),[At,Oe]=s.useState({storyboard:0,image:0,video:0}),F=s.useCallback(()=>{if(p){const a=E.getUsage(p);Oe({storyboard:a.generateStoryboard.count,image:a.generateImage.count,video:a.generateVideo.count})}},[p]);s.useEffect(()=>{F()},[p,F]),s.useEffect(()=>{if(f){const a=URL.createObjectURL(f);$(a)}},[f]);const Le=s.useCallback(async()=>{R(!0),g(null);try{if(u==="single-shot"){const a=m?await P(m):void 0,r=await Ve(a,void 0,G,I,u,h);A(r)}else{const a=x?await P(x):void 0,r=m?await P(m):void 0,o=await Ve(a,r,G,I,u,h);A(o)}}catch(a){g(a instanceof Error?a.message:"Failed to generate background scenes.")}finally{R(!1)}},[x,m,G,u,h,I]),je=s.useCallback(async()=>{if(!E.canPerformAction(p,"generateStoryboard")){g("Daily limit reached for storyboard generations.");return}if(!b&&!T){g("Please provide a topic or script before generating the storyboard.");return}de(!0),g(null);try{let a,r=T;if(f){const o=await P(f);if(!r&&b){const t=await ht(b,o);r=t.script,a={scenes:t.scenes,reporterDescription:t.reporterDescription,intervieweeDescription:t.intervieweeDescription}}else if(r)a=await ft(r,o);else throw new Error("In Quick Start mode, you must provide either a topic or a script.");d(a.scenes.map(t=>({...t,selectedImageForVideo:o})))}else{if(!v)throw new Error("Please select a background from the generated options.");const o=x?await P(x):void 0,t=m?await P(m):void 0;let i,n;if(u==="single-shot"){if(!t)throw new Error("Interviewee image must be provided in 'Interviewee Only' mode.");i=t}else{if(!o)throw new Error("Reporter image must be provided.");i=o,n=t}if(!r&&b){if(u==="single-shot"||!o||!t)throw new Error("To generate a script from a topic, please provide both character images in 'Two-Person Shot' mode.");r=await vt(b,o,t)}else if(!r)throw new Error("Please provide a topic or a script.");a=await xt(r,i,n,v),d(a.scenes.map(S=>({...S,selectedImageForVideo:v})))}U(a.reporterDescription),l(a.intervieweeDescription),te(r),E.logAction(p,"generateStoryboard"),F(),le("prompts_generated")}catch(a){g(a instanceof Error?a.message:"An unknown error occurred.")}finally{de(!1)}},[p,F,T,b,f,x,m,v,u]),re=s.useCallback(async a=>{const r=c.find(i=>i.id===a);if(!r)return;let o=V,t=r.voiceoverScript;t.toLowerCase().startsWith("reporter:")?(o=V,t=t.substring(9).trim()):t.toLowerCase().startsWith("interviewee:")?(o=j,t=t.substring(12).trim()):o=j,d(i=>i.map(n=>n.id===a?{...n,isGeneratingAudio:!0,audioGenerationError:null}:n));try{const i=await wt(t,r.voiceoverGuide,o,w),n=ct(i),S=URL.createObjectURL(n);d(k=>k.map(C=>C.id===a?{...C,audioUrl:S,isGeneratingAudio:!1}:C))}catch(i){const n=i instanceof Error?i.message:"An unknown audio generation error occurred.";d(S=>S.map(k=>k.id===a?{...k,isGeneratingAudio:!1,audioGenerationError:n}:k))}},[c,V,j,w]),We=s.useCallback(async a=>{console.log("Image generation per scene is disabled for the Street Interview module.")},[]),oe=s.useCallback(async a=>{if(!E.canPerformAction(p,"generateVideo"))throw new Error("Daily video generation limit reached.");const r=c.find(o=>o.id===a);if(!r||!r.selectedImageForVideo)throw new Error("No image selected for video generation.");d(o=>o.map(t=>t.id===a?{...t,isGeneratingVideo:!0,videoGenerationError:null}:t));try{const o=await St(r.selectedImageForVideo);let t="";if(u==="two-shot"?(t+=`There are two people in the scene:
`,t+=`- The Reporter is: ${y}
`,t+=`- The Interviewee is: ${N}

`):(t+=`There is one person in the scene:
`,t+=`- The Interviewee is: ${N}

`),r.voiceoverScript.toLowerCase().startsWith("reporter:")?t+=`In this scene, the Reporter (${y}) is speaking.
`:r.voiceoverScript.toLowerCase().startsWith("interviewee:")?t+=`In this scene, the Interviewee (${N}) is speaking.
`:t+=`In this scene, the Interviewee (${N}) is speaking.
`,t+=`Motion/Action: ${r.videoPrompt}
`,r.includeDialogueInPrompt!==!1){const ne=r.voiceoverScript.replace(/^(Reporter:|Interviewee:)\s*/i,"");w&&(t+=`
Dialogue style: "${w}"`),t+=`
Dialogue in English: "${ne}"`}t+=`

No Music Background`;const{videoUrl:i,upscaledUrl:n,mediaGenerationId:S,seed:k,publicUrl:C,upscaledPublicUrl:nt}=await dt({provider:"lehuyducanh",prompt:t,imageUrl:o,upscale:r.shouldUpscaleVideo,aspectRatio:h}),it={url:C||i,mediaGenerationId:S,seed:k,upscaledUrl:nt||n};d(ne=>ne.map(Z=>{if(Z.id!==a)return Z;const lt=[...Z.videos||[],it];return{...Z,videos:lt,isGeneratingVideo:!1}})),E.logAction(p,"generateVideo"),F()}catch(o){const t=o instanceof Error?o.message:"An unknown error occurred.";throw d(i=>i.map(n=>n.id===a?{...n,isGeneratingVideo:!1,videoGenerationError:t}:n)),o}},[c,p,F,h,w,u,y,N]),_e=(a,r)=>{d(o=>o.map(t=>t.id===a?{...t,includeDialogueInPrompt:r}:t))},qe=(a,r)=>{d(o=>o.map(t=>t.id===a?{...t,voiceoverScript:r}:t))},Ke=(a,r)=>{d(o=>o.map(t=>{if(t.id!==a)return t;const i=[...t.videos];return i.splice(r,1),{...t,videos:i}}))},Ze=(a,r)=>d(o=>o.map(t=>t.id===a?{...t,imagePrompt:r}:t)),ze=(a,r)=>d(o=>o.map(t=>t.id===a?{...t,videoPrompt:r}:t)),Je=(a,r)=>d(o=>o.map(t=>t.id===a?{...t,voiceoverGuide:r}:t)),Qe=a=>{const r=Ne({voiceoverScript:"New scene..."});d(o=>{const t=[...o];return t.splice(a,0,r),t})},He=s.useCallback(()=>{const a=f?URL.createObjectURL(f):v;a?(d(r=>r.map(o=>({...o,selectedImageForVideo:a}))),alert("Set the selected background for all scenes.")):alert("Please select or upload a background first.")},[v,f]),Xe=s.useCallback(async()=>{be(!0);const a=c.filter(r=>!r.audioUrl).map(r=>()=>re(r.id));await Ie(a,5),be(!1)},[c,re]),Ye=s.useCallback(async()=>{he(!0);const a=c.filter(r=>r.selectedImageForVideo&&(!r.videos||r.videos.length===0)).map(r=>()=>oe(r.id));await Ie(a,5),he(!1)},[c,oe]),et=s.useCallback(()=>{alert("Batch image generation is not applicable for this module. All scenes use the pre-generated background.")},[]),tt=s.useCallback(async()=>{const{botToken:a,chatId:r}=Ae.getTelegramConfig();if(!a||!r){alert("Please configure Telegram settings first in the Settings page.");return}const o=c.map((t,i)=>t.selectedImageForVideo?{type:"photo",url:t.selectedImageForVideo,caption:`Scene ${i+1}: ${t.voiceoverScript}`,fileName:`${String(i+1).padStart(3,"0")}_scene_image.jpg`}:null).filter(t=>t!==null);if(o.length===0){alert("No selected background images found in scenes to send.");return}ye(!0),g(null);try{await ke.sendMedia(o),alert("All scene images sent to Telegram successfully!")}catch(t){const i=t instanceof Error?t.message:"Failed to send images to Telegram.";g(i),alert(i)}finally{ye(!1)}},[c]),at=s.useCallback(async()=>{const{botToken:a,chatId:r}=Ae.getTelegramConfig();if(!a||!r){alert("Please configure Telegram settings first in the Settings page.");return}const o=c.flatMap((t,i)=>(t.videos||[]).map((n,S)=>({type:"video",url:n.upscaledUrl||n.url,caption:`Scene ${i+1}: ${t.voiceoverScript}`,fileName:`${String(i+1).padStart(3,"0")}_video_${String(S+1).padStart(2,"0")}.mp4`}))).filter(t=>t.url);if(o.length===0){alert("No videos found to send.");return}Se(!0),g(null);try{await ke.sendMedia(o),alert("All videos sent to Telegram successfully!")}catch(t){const i=t instanceof Error?t.message:"Failed to send videos to Telegram.";g(i),alert(i)}finally{Se(!1)}},[c]),se=c.length>0,rt=s.useCallback(async()=>{if(!se){alert("Please generate a storyboard before saving.");return}xe(!0);try{const a=x?{name:x.name,data:await Ce(x)}:void 0,r=m?{name:m.name,data:await Ce(m)}:void 0,o={version:"1.4.0-street-interview",topic:b,scenes:c,voiceoverScript:ee,generationStep:Y,reporterImage:a,intervieweeImage:r,reporterVoice:V,intervieweeVoice:j,videoAspectRatio:h,globalVoiceInstruction:w,reporterDescription:y,intervieweeDescription:N},t=new Blob([JSON.stringify(o,null,2)],{type:"application/json"});gt(t,`${b.substring(0,20).replace(/\s/g,"_")||"street-interview"}.sivproj`)}catch(a){g(a instanceof Error?a.message:"Failed to save project.")}finally{xe(!1)}},[se,c,b,ee,Y,x,m,V,j,h,w,y,N]),ot=s.useCallback(async a=>{var o,t;const r=(o=a.target.files)==null?void 0:o[0];if(r){we(!0);try{const i=await r.text(),n=JSON.parse(i);if(!((t=n.version)!=null&&t.includes("-street-interview")))throw new Error("Invalid project file for this module.");M(n.topic||"");const k=(n.scenes||[]).map(C=>({...Ne(C),...C}));d(k),te(n.voiceoverScript||""),le(n.generationStep||"input"),W(n.reporterVoice||"Puck"),H(n.intervieweeVoice||"Kore"),_(n.videoAspectRatio||"9:16"),q(n.globalVoiceInstruction||""),U(n.reporterDescription||""),l(n.intervieweeDescription||""),n.reporterImage&&ge(await Ge(n.reporterImage.data,n.reporterImage.name)),n.intervieweeImage&&me(await Ge(n.intervieweeImage.data,n.intervieweeImage.name))}catch(i){g(i instanceof Error?i.message:"Failed to import project.")}finally{we(!1),a.target.value=""}}},[]),st=a=>{window.confirm("Are you sure you want to delete this scene? This action cannot be undone.")&&d(r=>r.filter(o=>o.id!==a))};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"py-4 px-8 bg-gray-800 shadow-lg border-b border-gray-700 shrink-0 flex justify-between items-center flex-wrap gap-y-2",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-blue-400",children:[e.jsx("i",{className:"fas fa-microphone-lines mr-3"}),"Street Interview Designer"]}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Generate dynamic two-person interview videos."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("label",{htmlFor:"import-project-siv",className:`text-center bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-full transition-all duration-300 flex items-center justify-center gap-2 text-sm shadow-sm ${ae?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:ae?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-folder-open"}),"Import"]})}),e.jsx("input",{id:"import-project-siv",type:"file",accept:".sivproj",className:"hidden",onChange:ot,disabled:ae}),e.jsx("button",{onClick:rt,disabled:ve||!se,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center gap-2 text-sm shadow-sm",children:ve?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save"}),"Save"]})})]}),e.jsx("button",{onClick:z,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full",children:"Logout"})]})]}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-4 md:p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-start",children:[e.jsx("div",{className:"lg:sticky lg:top-8 xl:col-span-1",children:e.jsx(jt,{reporterImage:x,setReporterImage:ge,intervieweeImage:m,setIntervieweeImage:me,topic:b,setTopic:M,pastedScript:T,setPastedScript:O,onGenerateStoryboard:je,isGeneratingStoryboard:ce,reporterVoice:V,setReporterVoice:W,intervieweeVoice:j,setIntervieweeVoice:H,videoAspectRatio:h,setVideoAspectRatio:_,interviewMode:u,setInterviewMode:J,backgroundPrompt:G,setBackgroundPrompt:D,onGenerateBackgrounds:Le,isGeneratingBackgrounds:Q,selectedBackground:v,globalVoiceInstruction:w,setGlobalVoiceInstruction:q,customBackgroundFile:f,setCustomBackgroundFile:X,backgroundVariationsCount:I,setBackgroundVariationsCount:K})}),e.jsx("div",{className:"lg:col-span-2 xl:col-span-3",children:e.jsx(mt,{generationStep:Y,scenes:c,isLoading:ce,isGeneratingPrompts:!1,error:L,voiceoverScript:ee,onVoiceoverScriptChange:te,onGeneratePrompts:je,sceneOverrides:{},onGenerateImage:We,onSceneImagePromptChange:Ze,onSceneVideoPromptChange:ze,onSceneVoiceoverGuideChange:Je,onSceneEnhancementChange:()=>{},onSceneOverrideChange:()=>{},onDeleteImage:()=>{},onViewImage:ue,onUploadImageForVideo:()=>{},onGenerateAllImages:et,isBatchGenerating:Fe,onViewStoryboard:()=>fe(!0),onDownloadAllImages:()=>ut(B.length>0?c.map(a=>({...a,images:B})):c),isDownloadingImages:Ee,onDownloadAllVideos:()=>pt(c),isDownloadingVideos:Re,onSelectImageForVideo:()=>{},onGenerateVideo:oe,onToggleVideoUpscale:()=>{},onUpscaleVideo:()=>{},onGenerateAllVideos:Ye,isBatchGeneratingVideos:De,onUpscaleAllVideos:()=>{},isBatchUpscalingVideos:Be,generatedEnvironments:B,onGenerateAudio:re,onGenerateAllAudio:Xe,isBatchGeneratingAudio:Pe,activeModule:"street-interview",onAddScene:Qe,onPickAllImages:He,onSelectEnvironment:$,selectedEnvironment:v,onSendAllImagesToTelegram:tt,isSendingImagesToTelegram:$e,onSendAllVideosToTelegram:at,isSendingVideosToTelegram:Me,videoAspectRatio:h,onToggleDialogueInPrompt:_e,onGenerateEnhancedPrompt:()=>{},onSceneVoiceoverScriptChange:qe,onDeleteScene:st,onDeleteVideo:Ke})})]})}),pe&&e.jsx(yt,{imageUrl:pe,onClose:()=>ue(null)}),Ue&&e.jsx(bt,{scenes:c,onClose:()=>fe(!1),videoAspectRatio:h})]})};export{Rt as default};
