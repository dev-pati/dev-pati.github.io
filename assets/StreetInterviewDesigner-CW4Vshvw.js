import{r as n,j as e}from"./index-DX2mtma_.js";import{u as C,U as X,c as Qe,r as he,O as ze,a as Je,d as He,S as Xe,s as Ye,t as fe}from"./telegramService-DklkJaQq.js";import{A as et}from"./config-PJqXRuVJ.js";import{I as Y}from"./ImageUpload-mUB4HcDX.js";import{t as tt,u as at,v as rt,w as ot,x as st,c as nt,I as it,m as lt}from"./lehuyducanhService-BqsWtKXJ.js";import{g as ct,a as dt}from"./mediaService-1p3th5hq.js";import{r as N,i as gt}from"./media-CDZXYBSY.js";import"./settingsService-Tte2DU1T.js";const xe=[{value:"Kore",label:"Kore (Female)"},{value:"Puck",label:"Puck (Male)"},{value:"Charon",label:"Charon (Male)"},{value:"Fenrir",label:"Fenrir (Male)"},{value:"Zephyr",label:"Zephyr (Male)"}],mt=g=>{const{reporterImage:ee,setReporterImage:p,intervieweeImage:q,setIntervieweeImage:u,topic:T,setTopic:I,pastedScript:A,setPastedScript:x,onGenerateStoryboard:V,isGeneratingStoryboard:v,reporterVoice:L,setReporterVoice:G,intervieweeVoice:O,setIntervieweeVoice:F,videoAspectRatio:B,setVideoAspectRatio:b,interviewMode:R,setInterviewMode:f,backgroundPrompt:W,setBackgroundPrompt:P,onGenerateBackgrounds:$,isGeneratingBackgrounds:y,selectedBackground:te,globalVoiceInstruction:D,setGlobalVoiceInstruction:_,customBackgroundFile:c,setCustomBackgroundFile:l,backgroundVariationsCount:Z,setBackgroundVariationsCount:K}=g,[m,U]=n.useState("custom"),[E,w]=n.useState("generate");return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 shadow-lg flex flex-col gap-6",children:[e.jsxs("div",{className:"flex mb-2 border-b-2 border-gray-700",children:[e.jsxs("button",{onClick:()=>U("custom"),className:`flex-1 text-center font-bold py-3 transition-all duration-300 flex items-center justify-center gap-2 ${m==="custom"?"text-blue-400 border-b-4 border-blue-500":"text-gray-400 hover:text-white"}`,children:[e.jsx("i",{className:"fas fa-tools"})," Custom Setup"]}),e.jsxs("button",{onClick:()=>U("quick-start"),className:`flex-1 text-center font-bold py-3 transition-all duration-300 flex items-center justify-center gap-2 ${m==="quick-start"?"text-yellow-400 border-b-4 border-yellow-500":"text-gray-400 hover:text-white"}`,children:[e.jsx("i",{className:"fas fa-bolt"})," Quick Start"]})]}),m==="custom"&&e.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in",children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-400 -mb-2",children:[e.jsx("i",{className:"fas fa-users mr-2"}),"Cast"]}),e.jsx(Y,{id:"reporter-image",label:"Reporter Image (Optional)",file:ee,onFileChange:p}),e.jsx(Y,{id:"interviewee-image",label:"Interviewee Image (Optional)",file:q,onFileChange:u}),e.jsx("div",{className:"border-t-2 border-gray-700 -mx-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-400 mb-2",children:[e.jsx("i",{className:"fas fa-image mr-2"}),"Background Scene"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-md font-bold text-gray-300 mb-2",children:"Interview Mode"}),e.jsxs("div",{className:"flex gap-2 bg-gray-900 border-2 border-gray-600 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>f("two-shot"),className:`flex-1 py-2 px-4 rounded-md text-sm font-bold transition-all ${R==="two-shot"?"bg-blue-600":"bg-transparent text-gray-400 hover:bg-gray-700"}`,children:"Two-Person Shot"}),e.jsx("button",{onClick:()=>f("single-shot"),className:`flex-1 py-2 px-4 rounded-md text-sm font-bold transition-all ${R==="single-shot"?"bg-blue-600":"bg-transparent text-gray-400 hover:bg-gray-700"}`,children:"Interviewee Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"background-prompt",className:"block text-md font-bold text-gray-300 mb-2",children:"Generate with AI"}),e.jsx("input",{id:"background-prompt",type:"text",value:W,onChange:i=>P(i.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bg-count",className:"block text-md font-bold text-gray-300 mb-2",children:"Number of Variations"}),e.jsx("input",{id:"bg-count",type:"number",min:"1",max:"8",value:Z,onChange:i=>K(parseInt(i.target.value,10)),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"aspect-ratio-street",className:"block text-md font-bold text-gray-300 mb-2",children:"Video Aspect Ratio"}),e.jsxs("select",{id:"aspect-ratio-street",value:B,onChange:i=>b(i.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",children:[e.jsx("option",{value:"9:16",children:"9:16 (Portrait)"}),e.jsx("option",{value:"16:9",children:"16:9 (Landscape)"})]})]}),e.jsx("button",{onClick:$,disabled:y,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-full disabled:opacity-50 flex items-center justify-center gap-2",children:y?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," Generating..."]}):"Generate Backgrounds"})]})]}),m==="quick-start"&&e.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in",children:[e.jsx("div",{className:"bg-yellow-900/30 border border-yellow-700/50 p-3 rounded-lg text-center text-yellow-200 text-sm",children:e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-bolt mr-2"}),"Upload a finalized photo of the interview scene. We'll generate different shots from it."]})}),e.jsx(Y,{id:"street-interview-custom-bg",label:"Master Shot",file:c,onFileChange:l}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"aspect-ratio-street-quick",className:"block text-md font-bold text-gray-300 mb-2",children:"Video Aspect Ratio"}),e.jsxs("select",{id:"aspect-ratio-street-quick",value:B,onChange:i=>b(i.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",children:[e.jsx("option",{value:"9:16",children:"9:16 (Portrait)"}),e.jsx("option",{value:"16:9",children:"16:9 (Landscape)"})]})]})]}),e.jsx("div",{className:"border-t-2 border-gray-700 -mx-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-400 mb-2",children:[e.jsx("i",{className:"fas fa-cog mr-2"}),"Audio & Video"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reporter-voice",className:"block text-md font-bold text-gray-300 mb-2",children:"Reporter's Voice"}),e.jsx("select",{id:"reporter-voice",value:L,onChange:i=>G(i.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",children:xe.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"interviewee-voice",className:"block text-md font-bold text-gray-300 mb-2",children:"Interviewee's Voice"}),e.jsx("select",{id:"interviewee-voice",value:O,onChange:i=>F(i.target.value),className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",children:xe.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"global-voice-instruction-street",className:"block text-md font-bold text-gray-300 mb-2",children:"Global Voice Instruction (Optional)"}),e.jsx("textarea",{id:"global-voice-instruction-street",value:D,onChange:i=>_(i.target.value),placeholder:"e.g., Speak in an excited and fast-paced style.",className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",rows:2})]})]}),e.jsx("div",{className:"border-t-2 border-gray-700 -mx-6"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-400 mb-4",children:[e.jsx("i",{className:"fas fa-file-alt mr-2"}),"Scripting"]}),e.jsxs("div",{className:"flex gap-1 bg-gray-900 border-2 border-gray-600 rounded-lg p-1 mb-4",children:[e.jsxs("button",{onClick:()=>w("generate"),className:`flex-1 py-2 px-4 rounded-md text-sm font-bold ${E==="generate"?"bg-blue-600":"bg-transparent text-gray-400 hover:bg-gray-700"}`,children:[e.jsx("i",{className:"fas fa-magic mr-2"}),"From Topic"]}),e.jsxs("button",{onClick:()=>w("paste"),className:`flex-1 py-2 px-4 rounded-md text-sm font-bold ${E==="paste"?"bg-blue-600":"bg-transparent text-gray-400 hover:bg-gray-700"}`,children:[e.jsx("i",{className:"fas fa-paste mr-2"}),"From Script"]})]}),E==="generate"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"interview-topic",className:"block text-md font-bold text-gray-300 mb-2",children:"Interview Topic"}),e.jsx("textarea",{id:"interview-topic",value:T,onChange:i=>I(i.target.value),placeholder:"e.g., What are your thoughts on remote work?",className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",rows:3})]}),E==="paste"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pasted-script",className:"block text-md font-bold text-gray-300 mb-2",children:"Paste Script"}),e.jsx("textarea",{id:"pasted-script",value:A,onChange:i=>x(i.target.value),placeholder:`Reporter: What's one thing you can't live without?
Interviewee: Definitely my morning coffee. I'm not a person until I've had my coffee.`,className:"w-full bg-gray-700 border-2 border-gray-600 rounded-lg p-3 text-gray-200",rows:8})]})]}),e.jsx("div",{className:"border-t-2 border-gray-700 -mx-6 pt-6",children:e.jsx("button",{onClick:V,disabled:v||!T&&!A,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-full disabled:opacity-50 transition-all text-lg flex items-center justify-center gap-2",title:!T&&!A?"Please provide a topic or script":"Generate Storyboard",children:v?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"})," Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-wand-magic-sparkles"})," Generate Storyboard"]})})})]})},Nt=({currentUser:g,onLogout:ee})=>{const[p,q]=n.useState(null),[u,T]=n.useState(null),[I,A]=n.useState(""),[x,V]=n.useState(""),[v,L]=n.useState(null),[G,O]=n.useState("Puck"),[F,B]=n.useState("Kore"),[b,R]=n.useState("9:16"),[f,W]=n.useState("two-shot"),[P,$]=n.useState("a busy downtown street corner with pedestrians blur"),[y,te]=n.useState(""),[D,_]=n.useState(4),[c,l]=n.useState([]),[Z,K]=n.useState([]),[m,U]=n.useState(),[E,w]=n.useState(null),[ve,i]=n.useState("input"),[ae,re]=n.useState(!1),[ye,oe]=n.useState(!1),[se,ne]=n.useState(null),[we,ie]=n.useState(!1),[pt,ut]=n.useState(!1),[Se,le]=n.useState(!1),[je,ce]=n.useState(!1),[Ie,bt]=n.useState(!1),[ke,ht]=n.useState(!1),[Ne,de]=n.useState(!1),[Ve,ge]=n.useState(!1),[me,pe]=n.useState(!1),[Q,ue]=n.useState(!1),[ft,Ge]=n.useState({storyboard:0,image:0,video:0}),[z,Ce]=n.useState({}),k=n.useCallback(()=>{if(g){const a=C.getUsage(g);Ge({storyboard:a.generateStoryboard.count,image:a.generateImage.count,video:a.generateVideo.count})}},[g]);n.useEffect(()=>{k()},[g,k]);const Ae=n.useCallback(async()=>{if(!p&&f==="two-shot"){w("Reporter image is required for two-shot mode.");return}if(!u&&f==="single-shot"){w("Interviewee image is required for single-shot mode.");return}oe(!0),w(null);try{const a=p?await N(p):void 0,o=u?await N(u):void 0,s=await tt(f==="two-shot"?a:o,f==="two-shot"?o:void 0,P,D,f,b);K(s),s.length>0&&U(s[0])}catch(a){w(a instanceof Error?a.message:"Failed to generate backgrounds.")}finally{oe(!1)}},[p,u,P,D,f,b]),be=n.useCallback(async()=>{if(!C.canPerformAction(g,"generateStoryboard")){alert(`Daily limit of ${X.generateStoryboard} reached.`);return}const a=!!v,o=!a&&!!m;if(!a&&!o){w("Please select a generated background or upload a master shot.");return}re(!0),w(null),l([]);try{let r,t,s;if(a)r=await N(v);else if(t=p?await N(p):void 0,s=u?await N(u):void 0,!t)throw new Error("Reporter image required for custom setup.");let h=[],S=x;if(a&&r)if(x)h=(await at(x,r)).scenes;else{if(!I)throw new Error("Please provide a topic to generate a script.");const d=await rt(I,r);h=d.scenes,S=d.script,V(d.script)}else if(o&&m&&t){if(!x){if(!I||!s)throw new Error("Topic and Interviewee image required to generate script.");S=await ot(I,t,s),V(S)}h=(await st(S,t,s,m)).scenes}const j=a?r:m,M=h.map(d=>({...d,selectedImageForVideo:j}));l(M),i("prompts_generated"),C.logAction(g,"generateStoryboard"),k()}catch(r){w(r instanceof Error?r.message:"An unknown error occurred.")}finally{re(!1)}},[g,v,m,p,u,x,I,k]),Fe=n.useCallback(async a=>{if(!C.canPerformAction(g,"generateImage"))throw new Error(`Daily image generation limit of ${X.generateImage} reached.`);const o=c.find(r=>r.id===a);if(o){l(r=>r.map(t=>t.id===a?{...t,isGeneratingImage:!0,imageGenerationError:null}:t));try{const t=(z[a]||{}).imageProvider||"lehuyducanh",s=[];p&&s.push(await N(p)),u&&s.push(await N(u));const h=await ct({provider:t,prompt:o.imagePrompt,subjectUrls:s,sceneUrl:m||(v?await N(v):void 0),aspectRatio:b});l(S=>S.map(j=>j.id===a?{...j,images:[...j.images,...h],isGeneratingImage:!1}:j)),C.logAction(g,"generateImage"),k()}catch(r){throw l(t=>t.map(s=>s.id===a?{...s,isGeneratingImage:!1,imageGenerationError:r instanceof Error?r.message:"Error"}:s)),r}}},[c,g,z,p,u,m,v,b,k]),J=n.useCallback(async a=>{if(!C.canPerformAction(g,"generateVideo"))throw new Error(`Daily limit of ${X.generateVideo} reached.`);const o=c.find(r=>r.id===a);if(!o||!o.selectedImageForVideo)throw new Error("No image selected for video.");l(r=>r.map(t=>t.id===a?{...t,isGeneratingVideo:!0,videoGenerationError:null}:t));try{const r=await gt(o.selectedImageForVideo);let t=`Voiceover: "${o.voiceoverScript}".
Motion: ${o.videoPrompt}`;y&&(t+=`
Tone: ${y}`),t+=`

No Music Background`;const{videoUrl:s,mediaGenerationId:h,seed:S}=await dt({provider:"lehuyducanh",prompt:t,imageUrl:r,aspectRatio:b}),j={url:s,mediaGenerationId:h,seed:S};l(M=>M.map(d=>d.id!==a?d:{...d,videos:[...d.videos||[],j],isGeneratingVideo:!1})),C.logAction(g,"generateVideo"),k()}catch(r){throw l(t=>t.map(s=>s.id===a?{...s,isGeneratingVideo:!1,videoGenerationError:r instanceof Error?r.message:"Error"}:s)),r}},[c,g,k,b,y]),H=n.useCallback(async a=>{const o=c.find(r=>r.id===a);if(o){l(r=>r.map(t=>t.id===a?{...t,isGeneratingAudio:!0}:t));try{const r=o.voiceoverScript;let t=G,s=r;r.startsWith("Interviewee:")?(t=F,s=r.replace("Interviewee:","").trim()):r.startsWith("Reporter:")&&(t=G,s=r.replace("Reporter:","").trim());const h=await nt(s,o.voiceoverGuide,t,y),S=Qe(h),j=URL.createObjectURL(S);l(M=>M.map(d=>d.id===a?{...d,audioUrl:j,isGeneratingAudio:!1}:d))}catch(r){l(t=>t.map(s=>s.id===a?{...s,isGeneratingAudio:!1,audioGenerationError:r instanceof Error?r.message:"Error"}:s))}}},[c,G,F,y]),Pe=n.useCallback(async()=>{le(!0);const a=c.filter(o=>!o.audioUrl).map(o=>()=>H(o.id));await he(a,5),le(!1)},[c,H]),Ee=n.useCallback(async()=>{ce(!0);const a=c.filter(o=>o.selectedImageForVideo&&(!o.videos||o.videos.length===0)).map(o=>()=>J(o.id));await he(a,5),ce(!1)},[c,J]),Te=(a,o,r)=>Ce(t=>({...t,[a]:{...t[a],[o]:r}})),Be=(a,o)=>l(r=>r.map(t=>t.id===a?{...t,imagePrompt:o}:t)),Re=(a,o)=>l(r=>r.map(t=>t.id===a?{...t,videoPrompt:o}:t)),De=(a,o)=>l(r=>r.map(t=>t.id===a?{...t,voiceoverGuide:o}:t)),Ue=(a,o,r)=>l(t=>t.map(s=>s.id===a?{...s,[o]:r}:s)),Me=(a,o)=>l(r=>r.map(t=>t.id!==a?t:{...t,images:t.images.filter(s=>s!==o),selectedImageForVideo:t.selectedImageForVideo===o?void 0:t.selectedImageForVideo})),Oe=(a,o)=>l(r=>r.map(t=>t.id===a?{...t,selectedImageForVideo:o,videos:[]}:t)),$e=a=>l(o=>{const r=[...o];return r.splice(a,0,lt({voiceoverScript:"Reporter: New Scene"})),r}),qe=a=>l(o=>o.filter(r=>r.id!==a)),Le=(a,o)=>l(r=>r.map(t=>t.id!==a?t:{...t,videos:t.videos.filter((s,h)=>h!==o)})),We=async()=>{de(!0);try{const a=c.flatMap((o,r)=>o.images.map((t,s)=>({type:"photo",url:t,caption:`Scene ${r+1}`})));await fe.sendMedia(a),alert("Sent!")}catch(a){alert(a instanceof Error?a.message:"Error")}finally{de(!1)}},_e=async()=>{ge(!0);try{const a=c.flatMap((o,r)=>o.videos.map((t,s)=>({type:"video",url:t.url,caption:`Scene ${r+1}`})));await fe.sendMedia(a),alert("Sent!")}catch(a){alert(a instanceof Error?a.message:"Error")}finally{ge(!1)}},Ze=async()=>{pe(!0);try{const a={version:"1.0.0-street",scenes:c,topic:I,pastedScript:x,reporterVoice:G,intervieweeVoice:F,videoAspectRatio:b,backgroundPrompt:P,globalVoiceInstruction:y,interviewMode:f},o=new Blob([JSON.stringify(a)],{type:"application/json"});Ye(o,"street-interview.siproj")}catch{alert("Failed to save")}finally{pe(!1)}},Ke=async a=>{var r;const o=(r=a.target.files)==null?void 0:r[0];if(o){ue(!0);try{const t=await o.text(),s=JSON.parse(t);s.scenes&&l(s.scenes),s.topic&&A(s.topic),s.pastedScript&&V(s.pastedScript),s.reporterVoice&&O(s.reporterVoice),s.intervieweeVoice&&B(s.intervieweeVoice),s.videoAspectRatio&&R(s.videoAspectRatio),s.backgroundPrompt&&$(s.backgroundPrompt),alert("Imported!")}catch{alert("Failed to import")}finally{ue(!1)}}};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"py-4 px-8 bg-gray-800 shadow-lg border-b border-gray-700 shrink-0 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-blue-400",children:[e.jsx("i",{className:"fas fa-microphone-lines mr-3"}),"Street Interview Designer"]}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Create viral man-on-the-street interviews."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"import-project-street",className:`text-center bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-full transition-all duration-300 flex items-center justify-center gap-2 text-sm shadow-sm ${Q?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:Q?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-folder-open"}),"Import"]})}),e.jsx("input",{id:"import-project-street",type:"file",accept:".siproj",className:"hidden",onChange:Ke,disabled:Q}),e.jsx("button",{onClick:Ze,disabled:me||c.length===0,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full disabled:opacity-50 text-sm shadow-sm",children:me?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save"}),"Save"]})}),et.LOGIN_REQUIRED]})]}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-4 md:p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-start",children:[e.jsx("div",{className:"lg:sticky lg:top-8 xl:col-span-1",children:e.jsx(mt,{reporterImage:p,setReporterImage:q,intervieweeImage:u,setIntervieweeImage:T,topic:I,setTopic:A,pastedScript:x,setPastedScript:V,onGenerateStoryboard:be,isGeneratingStoryboard:ae,reporterVoice:G,setReporterVoice:O,intervieweeVoice:F,setIntervieweeVoice:B,videoAspectRatio:b,setVideoAspectRatio:R,interviewMode:f,setInterviewMode:W,backgroundPrompt:P,setBackgroundPrompt:$,onGenerateBackgrounds:Ae,isGeneratingBackgrounds:ye,selectedBackground:m,globalVoiceInstruction:y,setGlobalVoiceInstruction:te,customBackgroundFile:v,setCustomBackgroundFile:L,backgroundVariationsCount:D,setBackgroundVariationsCount:_})}),e.jsx("div",{className:"lg:col-span-2 xl:col-span-3",children:e.jsx(ze,{generationStep:c.length>0?"prompts_generated":"input",scenes:c,isLoading:ae,isGeneratingPrompts:!1,error:E,voiceoverScript:x,onVoiceoverScriptChange:V,onGeneratePrompts:be,sceneOverrides:z,onGenerateImage:Fe,onSceneImagePromptChange:Be,onSceneVideoPromptChange:Re,onSceneVoiceoverGuideChange:De,onSceneEnhancementChange:Ue,onSceneOverrideChange:Te,onDeleteImage:Me,onViewImage:ne,onUploadImageForVideo:()=>{},onGenerateAllImages:()=>{},isBatchGenerating:!1,onViewStoryboard:()=>ie(!0),onDownloadAllImages:()=>He(c),isDownloadingImages:Ie,onDownloadAllVideos:()=>Je(c),isDownloadingVideos:ke,onSelectImageForVideo:Oe,onGenerateVideo:J,onGenerateAllVideos:Ee,isBatchGeneratingVideos:je,generatedEnvironments:Z,onGenerateAudio:H,onGenerateAllAudio:Pe,isBatchGeneratingAudio:Se,activeModule:"street-interview",onAddScene:$e,onPickAllImages:()=>{},onSelectEnvironment:U,selectedEnvironment:m,onSendAllImagesToTelegram:We,isSendingImagesToTelegram:Ne,onSendAllVideosToTelegram:_e,isSendingVideosToTelegram:Ve,videoAspectRatio:b,onToggleDialogueInPrompt:()=>{},onGenerateEnhancedPrompt:()=>{},onDeleteScene:qe,onDeleteVideo:Le})})]})}),se&&e.jsx(it,{imageUrl:se,onClose:()=>ne(null)}),we&&e.jsx(Xe,{scenes:c,onClose:()=>ie(!1),videoAspectRatio:b})]})};export{Nt as default};
